<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:DiscreteSimulation.GUI.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:scottPlot="clr-namespace:ScottPlot.Avalonia;assembly=ScottPlot.Avalonia"
        mc:Ignorable="d" d:DesignWidth="1300" d:DesignHeight="700"
        x:Class="DiscreteSimulation.GUI.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        WindowStartupLocation="CenterScreen"
        MinWidth="1300" MinHeight="700"
        Title="Diskrétna simulácia - SP2 Udalostná simulácia">

    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainWindowViewModel/>
    </Design.DataContext>
    
    <Grid RowDefinitions="Auto,*" ColumnDefinitions="Auto,*,Auto">
        <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,10">
            <Button 
                Margin="10,10,0,0" 
                Width="70"
                HorizontalContentAlignment="Center"
                Click="StartSimulationButton_OnClick"
                IsEnabled="{Binding IsStartSimulationButtonEnabled}">
                Start
            </Button>
            
            <Button 
                Margin="10,10,0,0"
                Width="70"
                HorizontalContentAlignment="Center"
                Click="StopSimulationButton_OnClick"
                IsEnabled="{Binding IsStopSimulationButtonEnabled}">
                Stop
            </Button>
            
            <Button 
                Margin="10,10,0,0"
                Width="70"
                HorizontalContentAlignment="Center"
                Click="PauseResumeSimulationButton_OnClick"
                IsEnabled="{Binding IsPauseResumeSimulationButtonEnabled}" 
                Content="{Binding PauseResumeSimulationButtonText}" />
            
            <StackPanel 
                Orientation="Horizontal" 
                IsVisible="{Binding IsSingleReplication}">
                <Button
                    Margin="10,10,0,0" 
                    Click="SpeedOneSimulationButton_OnClick"
                    IsEnabled="{Binding IsDefaultSpeedButtonEnabled}">x1</Button>
                
                <Button
                    Margin="10,10,0,0" 
                    Width="32"
                    HorizontalContentAlignment="Center"
                    Click="DecreaseSpeedSimulationButton_OnClick"
                    IsEnabled="{Binding IsDecreaseSpeedButtonEnabled}">-</Button>
                
                <ComboBox
                    Margin="10,10,0,0" 
                    IsEnabled="{Binding IsSpeedSelectorEnabled}"
                    SelectedIndex="{Binding SelectedSpeedIndex}"
                    ItemsSource="{Binding SpeedOptions}"
                    DisplayMemberBinding="{Binding Value}"
                    SelectedValueBinding="{Binding Key}"
                    MaxDropDownHeight="500"
                    Width="110"
                    HorizontalAlignment="Stretch" />
                
                <Button
                    Margin="10,10,0,0" 
                    Width="32"
                    HorizontalContentAlignment="Center"
                    Click="IncreaseSpeedSimulationButton_OnClick"
                    IsEnabled="{Binding IsIncreaseSpeedButtonEnabled}">+</Button>
                
                <Button
                    Margin="10,10,0,0" 
                    Click="SpeedMaxSimulationButton_OnClick"
                    IsEnabled="{Binding IsSpeedMaxButtonEnabled}">
                    MAX
                </Button>
            </StackPanel>
        </StackPanel>
        
        <StackPanel 
            Grid.Row="0" Grid.Column="1" 
            IsVisible="{Binding IsSingleReplication}"
            Orientation="Horizontal" 
            Margin="0,0,0,10" 
            HorizontalAlignment="Center">
            <Label 
                VerticalAlignment="Center"
                FontSize="16"
                Margin="0,10,5,0"
                FontFamily="Source Code Pro"
                FontWeight="Bold"
                Content="{Binding CurrentSimulationTime}" />
        </StackPanel>
        
        <StackPanel Grid.Row="0" Grid.Column="2" 
                    Orientation="Horizontal" 
                    Margin="0,0,0,10" 
                    HorizontalAlignment="Left">
            
            <CheckBox 
                IsChecked="{Binding EnableWorkerLocationPreference}"
                IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                IsVisible="{Binding IsMultipleReplications}"
                Margin="0,10,20,0">Worker location preference</CheckBox>
            
            <Label 
                VerticalAlignment="Center"
                Margin="0,10,10,0" >Max replication time</Label>

            <TextBox
                Margin="0,10,10,0" 
                IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                Text="{Binding MaxReplicationTime}" 
                Height="20"
                Width="120" />
            
            <Label 
                VerticalAlignment="Center"
                Margin="0,10,10,0" >Replications</Label>

            <TextBox
                Margin="0,10,10,0" 
                IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                Text="{Binding Replications}" 
                Height="20"
                Width="120" />
        </StackPanel>
        
        <Grid 
            Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3"
            RowDefinitions="Auto,*,*" ColumnDefinitions="*,*,*"
            IsVisible="{Binding IsSingleReplication}">
            
            <Label
                Grid.Row="0" Grid.Column="0"
                Margin="10,0,0,5"
                FontSize="18"
                FontWeight="Bold"
                FontFamily="Source Code Pro"
                Content="Orders" />
            <DataGrid Grid.Row="1" Grid.Column="0"
                      Margin="10,0,5,0" 
                      ItemsSource="{Binding Orders}"
                      SelectionMode="Single"
                      CanUserSortColumns="False"
                      IsReadOnly="True" 
                      GridLinesVisibility="All"
                      RowHeight="24"
                      BorderThickness="1" BorderBrush="Gray">
                
                <DataGrid.Styles>
                    <Style Selector="DataGridColumnHeader">
                        <Setter Property="FontWeight" Value="Bold"/>
                    </Style>
                    <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                        <Setter Property="IsVisible" Value="false" /> 
                    </Style> 
                </DataGrid.Styles>
                
                <DataGrid.Columns>
                    <DataGridTextColumn Header="#" Width="Auto" Binding="{Binding Id}" />
                    <DataGridTextColumn Header="Type" Width="Auto" Binding="{Binding Type}" />
                    <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                    <DataGridTextColumn Header="Arrival" Width="Auto" Binding="{Binding ArrivalTime}" />
                </DataGrid.Columns>
            </DataGrid>
            
            <Label
                Grid.Row="0" Grid.Column="1"
                Margin="10,0,0,5"
                FontSize="18"
                FontWeight="Bold"
                FontFamily="Source Code Pro"
                Content="Assembly lines" />
            <DataGrid Grid.Row="1" Grid.Column="1"
                      Margin="5,0,5,0" 
                      ItemsSource="{Binding AssemblyLines}"
                      SelectionMode="Single"
                      CanUserSortColumns="False"
                      IsReadOnly="True"
                      GridLinesVisibility="All"
                      RowHeight="24"
                      BorderThickness="1" BorderBrush="Gray">
                
                <DataGrid.Styles>
                    <Style Selector="DataGridColumnHeader">
                        <Setter Property="FontWeight" Value="Bold"/>
                    </Style>
                    <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                        <Setter Property="IsVisible" Value="false" /> 
                    </Style> 
                </DataGrid.Styles>
                
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Width="60" Binding="{Binding Id}" />
                    <DataGridTextColumn Header="Order" Width="Auto"  Binding="{Binding CurrentOrder}" />
                    <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                    <DataGridTextColumn Header="Worker" Width="Auto" Binding="{Binding CurrentWorker}" />
                </DataGrid.Columns>
            </DataGrid>
            
            <Label
                Grid.Row="0" Grid.Column="2"
                Margin="10,0,10,5"
                FontSize="18"
                FontWeight="Bold"
                FontFamily="Source Code Pro"
                Content="Statistics" />
            
            <Grid
                Grid.Row="1" Grid.Column="2"
                RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto" ColumnDefinitions="Auto,*,Auto"
                Margin="10,0,0,0">
                
                <Label
                    Grid.Row="0" Grid.Column="0"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="Order processing time" />
                
                <Label
                    Grid.Row="0" Grid.Column="1"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    HorizontalAlignment="Center"
                    Content="{Binding ReplicationOrderProcessingTime}" />
                
                <Label
                    Grid.Row="0" Grid.Column="2"
                    Margin="0,0,10,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="seconds" />
                
                <Label
                    Grid.Row="1" Grid.Column="0"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="Pending orders" />
                
                <Label
                    Grid.Row="1" Grid.Column="1"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    HorizontalAlignment="Center"
                    Content="{Binding ReplicationPendingOrders}" />
                
                <Label
                    Grid.Row="1" Grid.Column="2"
                    Margin="0,0,10,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="orders" />
                
                <Label
                    Grid.Row="2" Grid.Column="0"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="Workers group A utilization" />
                
                <Label
                    Grid.Row="2" Grid.Column="1"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    HorizontalAlignment="Center"
                    Content="{Binding ReplicationWorkersGroupAUtilization}" />
                
                <Label
                    Grid.Row="2" Grid.Column="2"
                    Margin="0,0,10,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="%" />
                
                <Label
                    Grid.Row="3" Grid.Column="0"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="Workers group B utilization" />
                
                <Label
                    Grid.Row="3" Grid.Column="1"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    HorizontalAlignment="Center"
                    Content="{Binding ReplicationWorkersGroupBUtilization}" />
                
                <Label
                    Grid.Row="3" Grid.Column="2"
                    Margin="0,0,10,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="%" />
                
                <Label
                    Grid.Row="4" Grid.Column="0"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="Workers group C utilization" />
                
                <Label
                    Grid.Row="4" Grid.Column="1"
                    Margin="0,0,0,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    HorizontalAlignment="Center"
                    Content="{Binding ReplicationWorkersGroupCUtilization}" />
                
                <Label
                    Grid.Row="4" Grid.Column="2"
                    Margin="0,0,10,5"
                    FontSize="16"
                    FontFamily="Source Code Pro"
                    Content="%" />
                
                <Label
                    Grid.Row="5" Grid.Column="0"
                    Margin="0,10,10,5"
                    FontSize="18"
                    FontWeight="Bold"
                    FontFamily="Source Code Pro"
                    Content="Parameters" />
                
                <StackPanel 
                    Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="3" 
                    Orientation="Horizontal" HorizontalAlignment="Left">
                    <Label 
                        VerticalAlignment="Center"
                        Margin="0,0,10,0" >Sleep time</Label>

                    <TextBox
                        Margin="0,0,10,0" 
                        Text="{Binding SleepTime}" 
                        IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                        Height="20"
                        Width="120" />
            
                    <Label 
                        VerticalAlignment="Center"
                        Margin="0,0,10,0" >Delta</Label>

                    <TextBox
                        Margin="0,0,10,0" 
                        Text="{Binding Delta}" 
                        IsEnabled="false"
                        Height="20"
                        Width="120" />
                </StackPanel>
                
                <Label
                    Grid.Row="7" Grid.Column="0"
                    Margin="0,10,10,5"
                    FontSize="18"
                    FontWeight="Bold"
                    FontFamily="Source Code Pro"
                    Content="Workers count" />
                
                <StackPanel 
                    Grid.Row="8" Grid.Column="0" Grid.ColumnSpan="3" 
                    Orientation="Horizontal" HorizontalAlignment="Left">
                    <Label Margin="0,5,0,0">A</Label>
                    <TextBox
                        Margin="10,0,0,0"
                        IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                        Text="{Binding CountOfWorkersGroupA}"
                        Height="20"
                        Width="40" />
                    
                    <Label Margin="10,5,0,0">B</Label>
                    <TextBox
                        Margin="10,0,0,0"
                        IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                        Text="{Binding CountOfWorkersGroupB}"
                        Height="20"
                        Width="40" />
                    
                    <Label Margin="10,5,0,0">C</Label>
                    <TextBox
                        Margin="10,0,0,0"
                        IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                        Text="{Binding CountOfWorkersGroupC}"
                        Height="20"
                        Width="40" />
                </StackPanel>
                
                <CheckBox 
                    Grid.Row="9" Grid.Column="0" Grid.ColumnSpan="3"
                    IsChecked="{Binding EnableWorkerLocationPreference}"
                    IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                    Margin="0,10,20,0">Worker location preference</CheckBox>
                
            </Grid>
            
            <Grid
                Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3"
                RowDefinitions="*" ColumnDefinitions="*,*"
                Margin="0,10,0,10">
                
                <TabControl Grid.Row="0" Grid.Column="0">
                    <TabItem Header="Workers group A" FontSize="16">
                        <DataGrid
                              ItemsSource="{Binding WorkersGroupA}"
                              SelectionMode="Single"
                              CanUserSortColumns="False"
                              IsReadOnly="True"
                              GridLinesVisibility="All"
                              RowHeight="24"
                              BorderThickness="1" BorderBrush="Gray">
                
                            <DataGrid.Styles>
                                <Style Selector="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                                <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                                    <Setter Property="IsVisible" Value="false" /> 
                                </Style> 
                            </DataGrid.Styles>
                
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Width="Auto" Binding="{Binding Id}" />
                                <DataGridTextColumn Header="Place" Width="Auto" Binding="{Binding Place}" />
                                <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                                <DataGridTextColumn Header="Order" Width="Auto" Binding="{Binding Order}" />
                                <DataGridTextColumn Header="Utilization" Width="Auto" Binding="{Binding Utilization}" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>
                    <TabItem Header="Workers group B" FontSize="16">
                        <DataGrid 
                              ItemsSource="{Binding WorkersGroupB}"
                              SelectionMode="Single"
                              CanUserSortColumns="False"
                              IsReadOnly="True"
                              GridLinesVisibility="All"
                              RowHeight="24"
                              BorderThickness="1" BorderBrush="Gray">
                
                            <DataGrid.Styles>
                                <Style Selector="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                                <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                                    <Setter Property="IsVisible" Value="false" /> 
                                </Style> 
                            </DataGrid.Styles>
                
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Width="Auto" Binding="{Binding Id}" />
                                <DataGridTextColumn Header="Place" Width="Auto" Binding="{Binding Place}" />
                                <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                                <DataGridTextColumn Header="Order" Width="Auto" Binding="{Binding Order}" />
                                <DataGridTextColumn Header="Utilization" Width="Auto" Binding="{Binding Utilization}" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>
                    <TabItem Header="Workers group C" FontSize="16">
                        <DataGrid
                              ItemsSource="{Binding WorkersGroupC}"
                              SelectionMode="Single"
                              CanUserSortColumns="False"
                              IsReadOnly="True"
                              GridLinesVisibility="All"
                              RowHeight="24"
                              BorderThickness="1" BorderBrush="Gray">
                
                            <DataGrid.Styles>
                                <Style Selector="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                                <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                                    <Setter Property="IsVisible" Value="false" /> 
                                </Style> 
                            </DataGrid.Styles>
                
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Width="Auto" Binding="{Binding Id}" />
                                <DataGridTextColumn Header="Place" Width="Auto" Binding="{Binding Place}" />
                                <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                                <DataGridTextColumn Header="Order" Width="Auto" Binding="{Binding Order}" />
                                <DataGridTextColumn Header="Utilization" Width="Auto" Binding="{Binding Utilization}" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>
                </TabControl>
                
                <TabControl Grid.Row="0" Grid.Column="1">
                    <TabItem Header="{Binding PendingOrdersQueueTabTitle}" FontSize="16">
                        <DataGrid
                              ItemsSource="{Binding PendingOrdersQueue}"
                              SelectionMode="Single"
                              CanUserSortColumns="False"
                              IsReadOnly="True" 
                              GridLinesVisibility="All"
                              RowHeight="24"
                              BorderThickness="1" BorderBrush="Gray">
                
                            <DataGrid.Styles>
                                <Style Selector="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                                <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                                    <Setter Property="IsVisible" Value="false" /> 
                                </Style> 
                            </DataGrid.Styles>
                
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="#" Width="Auto" Binding="{Binding Id}" />
                                <DataGridTextColumn Header="Type" Width="Auto" Binding="{Binding Type}" />
                                <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                                <DataGridTextColumn Header="Arrival" Width="Auto" Binding="{Binding ArrivalTime}" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>
                    <TabItem Header="{Binding PendingCutMaterialsQueueTabTitle}" FontSize="16">
                        <DataGrid
                            ItemsSource="{Binding PendingCutMaterialsQueue}"
                            SelectionMode="Single"
                            CanUserSortColumns="False"
                            IsReadOnly="True" 
                            GridLinesVisibility="All"
                            RowHeight="24"
                            BorderThickness="1" BorderBrush="Gray">
                
                            <DataGrid.Styles>
                                <Style Selector="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                                <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                                    <Setter Property="IsVisible" Value="false" /> 
                                </Style> 
                            </DataGrid.Styles>
                
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="#" Width="Auto" Binding="{Binding Id}" />
                                <DataGridTextColumn Header="Type" Width="Auto" Binding="{Binding Type}" />
                                <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                                <DataGridTextColumn Header="Arrival" Width="Auto" Binding="{Binding ArrivalTime}" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>
                    <TabItem Header="{Binding PendingVarnishedMaterialsQueueTabTitle}" FontSize="16">
                        <DataGrid
                            ItemsSource="{Binding PendingVarnishedMaterialsQueue}"
                            SelectionMode="Single"
                            CanUserSortColumns="False"
                            IsReadOnly="True" 
                            GridLinesVisibility="All"
                            RowHeight="24"
                            BorderThickness="1" BorderBrush="Gray">
                
                            <DataGrid.Styles>
                                <Style Selector="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                                <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                                    <Setter Property="IsVisible" Value="false" /> 
                                </Style> 
                            </DataGrid.Styles>
                
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="#" Width="Auto" Binding="{Binding Id}" />
                                <DataGridTextColumn Header="Type" Width="Auto" Binding="{Binding Type}" />
                                <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                                <DataGridTextColumn Header="Arrival" Width="Auto" Binding="{Binding ArrivalTime}" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>
                    <TabItem Header="{Binding PendingFoldedClosetsQueueTabTitle}" FontSize="16">
                        <DataGrid
                            ItemsSource="{Binding PendingFoldedClosetsQueue}"
                            SelectionMode="Single"
                            CanUserSortColumns="False"
                            IsReadOnly="True" 
                            GridLinesVisibility="All"
                            RowHeight="24"
                            BorderThickness="1" BorderBrush="Gray">
                
                            <DataGrid.Styles>
                                <Style Selector="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                                <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                                    <Setter Property="IsVisible" Value="false" /> 
                                </Style> 
                            </DataGrid.Styles>
                
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="#" Width="Auto" Binding="{Binding Id}" />
                                <DataGridTextColumn Header="Type" Width="Auto" Binding="{Binding Type}" />
                                <DataGridTextColumn Header="State" Width="*" Binding="{Binding State}" />
                                <DataGridTextColumn Header="Arrival" Width="Auto" Binding="{Binding ArrivalTime}" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>
                </TabControl>
                
            </Grid>
            
        </Grid>
        
        <Grid 
            Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3"
            RowDefinitions="Auto,Auto,Auto,*" ColumnDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,*,Auto"
            IsVisible="{Binding IsMultipleReplications}">
            
                <Label Grid.Row="0" Grid.Column="0" Margin="10,12,0,0">Skip first (%)</Label>
                <TextBox
                    Grid.Row="0" Grid.Column="1"
                    Margin="10,5,0,0"
                    IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                    Text="{Binding SkipFirstNReplicationsInPercent}"
                    Height="20"
                    Width="120" />
        
                <Label Grid.Row="0" Grid.Column="2" Margin="10,12,0,0">Render offset</Label>
                <TextBox
                    Grid.Row="0" Grid.Column="3"
                    IsEnabled="False"
                    Margin="10,5,0,0"
                    Text="{Binding RenderOffset}"
                    Height="20"
                    Width="120"/>
        
                <Label Grid.Row="0" Grid.Column="4" Margin="10,12,0,0">Render points</Label>
                <TextBox
                    Grid.Row="0" Grid.Column="5"
                    Margin="10,5,0,0"
                    IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                    Text="{Binding RenderPoints}"
                    Height="20"
                    Width="120"/>
                
                <Label Grid.Row="1" Grid.Column="0" Margin="10,12,0,0">Workers group A</Label>
                <TextBox
                    Grid.Row="1" Grid.Column="1"
                    Margin="10,5,0,0"
                    IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                    Text="{Binding CountOfWorkersGroupA}"
                    Height="20"
                    Width="120" />
                
                <Label Grid.Row="1" Grid.Column="2" Margin="10,12,0,0">Workers group B</Label>
                <TextBox
                    Grid.Row="1" Grid.Column="3"
                    Margin="10,5,0,0"
                    IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                    Text="{Binding CountOfWorkersGroupB}"
                    Height="20"
                    Width="120" />
                
                <Label Grid.Row="1" Grid.Column="4" Margin="10,12,0,0">Workers group C</Label>
                <TextBox
                    Grid.Row="1" Grid.Column="5"
                    Margin="10,5,0,0"
                    IsEnabled="{Binding IsStartSimulationButtonEnabled}"
                    Text="{Binding CountOfWorkersGroupC}"
                    Height="20"
                    Width="120" />
                
                <Grid
                    Grid.Row="0" Grid.Column="9" Grid.RowSpan="4"
                    RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,*" ColumnDefinitions="Auto,*,Auto,*,Auto,*,Auto"
                    Width="520"
                    Margin="5,0,0,0">
                    
                    <Label
                        Grid.Row="0" Grid.Column="0"
                        Margin="0,0,0,10"
                        FontSize="18"
                        FontWeight="Bold"
                        FontFamily="Source Code Pro"
                        VerticalAlignment="Center"
                        Content="Statistics" />
                    
                    <SelectableTextBlock
                        Grid.Row="1" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Replications" />
            
                    <SelectableTextBlock
                        Grid.Row="1" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding CurrentReplication}" />
            
                    <SelectableTextBlock
                        Grid.Row="2" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Order processing time" />
            
                    <SelectableTextBlock
                        Grid.Row="2" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationCurrentProcessingOrderTime}" />
                    
                    <SelectableTextBlock
                        Grid.Row="2" Grid.Column="4"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationCurrentProcessingOrderTimeCI}" />
                    
                    <SelectableTextBlock
                        Grid.Row="2" Grid.Column="6"
                        Margin="0,0,10,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="{Binding SelectedTimeUnits}" >
                        
                        <SelectableTextBlock.ContextMenu>
                            <ContextMenu >
                                <MenuItem Header="seconds" Click="MenuItem_OnClick" />
                                <MenuItem Header="minutes" Click="MenuItem_OnClick" />
                                <MenuItem Header="hours" Click="MenuItem_OnClick" />
                            </ContextMenu>
                        </SelectableTextBlock.ContextMenu>
                        
                    </SelectableTextBlock>
                   
                    <SelectableTextBlock
                        Grid.Row="3" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Pending orders" />
            
                    <SelectableTextBlock
                        Grid.Row="3" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationPendingOrders}" />
                    
                    <SelectableTextBlock
                        Grid.Row="3" Grid.Column="4"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationPendingOrdersCI}" />
                    
                    <SelectableTextBlock
                        Grid.Row="3" Grid.Column="6"
                        Margin="0,0,10,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="orders" />
                    
                    <SelectableTextBlock
                        Grid.Row="4" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Pending cut materials" />
            
                    <SelectableTextBlock
                        Grid.Row="4" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationPendingCutMaterials}" />
                    
                    <SelectableTextBlock
                        Grid.Row="4" Grid.Column="4"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationPendingCutMaterialsCI}" />
                    
                    <SelectableTextBlock
                        Grid.Row="4" Grid.Column="6"
                        Margin="0,0,10,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="orders" />
                    
                    <SelectableTextBlock
                        Grid.Row="5" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Pending varnished materials" />
            
                    <SelectableTextBlock
                        Grid.Row="5" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationPendingVarnishedMaterials}" />
                    
                    <SelectableTextBlock
                        Grid.Row="5" Grid.Column="4"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationPendingVarnishedMaterialsCI}" />
                    
                    <SelectableTextBlock
                        Grid.Row="5" Grid.Column="6"
                        Margin="0,0,10,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="orders" />
                    
                    <SelectableTextBlock
                        Grid.Row="6" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Pending folded closets" />
            
                    <SelectableTextBlock
                        Grid.Row="6" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationPendingFoldedClosets}" />
                    
                    <SelectableTextBlock
                        Grid.Row="6" Grid.Column="4"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationPendingFoldedClosetsCI}" />
                    
                    <SelectableTextBlock
                        Grid.Row="6" Grid.Column="6"
                        Margin="0,0,10,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="orders" />
                    
                    <SelectableTextBlock
                        Grid.Row="7" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Workers A utilization" />
                    
                    <SelectableTextBlock
                        Grid.Row="7" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationWorkersAUtilization}" />
                    
                    <SelectableTextBlock
                        Grid.Row="7" Grid.Column="4"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationWorkersAUtilizationCI}" />
                    
                    <SelectableTextBlock
                        Grid.Row="7" Grid.Column="6"
                        Margin="0,0,10,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="%" />
                    
                    <SelectableTextBlock
                        Grid.Row="8" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Workers B utilization" />
                    
                    <SelectableTextBlock
                        Grid.Row="8" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationWorkersBUtilization}" />
                    
                    <SelectableTextBlock
                        Grid.Row="8" Grid.Column="4"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationWorkersBUtilizationCI}" />
                    
                    <SelectableTextBlock
                        Grid.Row="8" Grid.Column="6"
                        Margin="0,0,10,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="%" />
                    
                    <SelectableTextBlock
                        Grid.Row="9" Grid.Column="0"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="Workers C utilization" />
                    
                    <SelectableTextBlock
                        Grid.Row="9" Grid.Column="2"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationWorkersCUtilization}" />
                    
                    <SelectableTextBlock
                        Grid.Row="9" Grid.Column="4"
                        Margin="0,0,0,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        HorizontalAlignment="Center"
                        Text="{Binding SimulationWorkersCUtilizationCI}" />
                    
                    <SelectableTextBlock
                        Grid.Row="9" Grid.Column="6"
                        Margin="0,0,10,5"
                        FontSize="16"
                        FontFamily="Source Code Pro"
                        Text="%" />
                    
                    <Label
                        Grid.Row="10" Grid.Column="0" Grid.ColumnSpan="3"
                        Margin="0,10,0,5"
                        FontSize="18"
                        FontFamily="Source Code Pro"
                        Content="Individual workers utilization" />
                    
                    <DataGrid Grid.Row="11" Grid.Column="0" Grid.ColumnSpan="7"
                              Margin="0,0,10,66" 
                              ItemsSource="{Binding SimulationAllWorkersUtilization}"
                              SelectionMode="Single"
                              CanUserSortColumns="False"
                              IsReadOnly="True"
                              GridLinesVisibility="All"
                              RowHeight="24"
                              BorderThickness="1" BorderBrush="Gray">
                
                        <DataGrid.Styles>
                            <Style Selector="DataGridColumnHeader">
                                <Setter Property="FontWeight" Value="Bold"/>
                            </Style>
                            <Style Selector="DataGridCell:current /template/ Grid#FocusVisual"> 
                                <Setter Property="IsVisible" Value="false" /> 
                            </Style> 
                        </DataGrid.Styles>
                
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Width="Auto" Binding="{Binding Id}" />
                            <DataGridTextColumn Header="Group" Width="Auto" Binding="{Binding State}" />
                            <DataGridTextColumn Header="Utilization" Width="Auto" Binding="{Binding Utilization}" />
                            <DataGridTextColumn Header="Utilization 95% CI" Width="*" Binding="{Binding Place}" />
                        </DataGrid.Columns>
                    </DataGrid>
            
                </Grid>
            
            <scottPlot:AvaPlot
                IsVisible="{Binding IsMultipleReplications}"
                Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="9"
                Margin="15,10,0,15"
                Name="ProcessingOrderTimePlot" />
        </Grid>
        
    </Grid>

</Window>
